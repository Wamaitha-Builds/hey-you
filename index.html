<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Hey You ğŸŒ¸</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
  :root {
    --rose:    #f9a8c9;
    --blush:   #fce4ec;
    --lavender:#d8b4fe;
    --lilac:   #ede9fe;
    --soft-white: #fff9fb;
    --text-dark: #3d1f2e;
    --text-mid:  #7c4d6a;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  html, body {
    width: 100%; height: 100%;
    overflow: hidden;
    background: #1a0a12;
    font-family: 'DM Sans', sans-serif;
    color: var(--text-dark);
  }

  /* â”€â”€ CANVAS LAYERS â”€â”€ */
  #bgCanvas {
    position: fixed; inset: 0; z-index: 0;
    width: 100%; height: 100%;
  }

  /* â”€â”€ SCREENS â”€â”€ */
  .scene {
    position: fixed; inset: 0; z-index: 10;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.8s ease;
  }
  .scene.active { opacity: 1; pointer-events: all; }

  /* â”€â”€ CARD â”€â”€ */
  .card {
    position: relative;
    background: rgba(255, 249, 251, 0.72);
    backdrop-filter: blur(24px) saturate(1.6);
    -webkit-backdrop-filter: blur(24px) saturate(1.6);
    border: 1px solid rgba(255,255,255,0.55);
    border-radius: 28px;
    padding: 48px 44px 44px;
    width: min(380px, 90vw);
    text-align: center;
    box-shadow:
      0 8px 32px rgba(200, 80, 130, 0.15),
      0 2px 8px rgba(200, 80, 130, 0.08),
      inset 0 1px 0 rgba(255,255,255,0.8);
    animation: floatY 6s ease-in-out infinite;
  }

  @keyframes floatY {
    0%,100% { transform: translateY(0px); }
    50%      { transform: translateY(-10px); }
  }

  /* â”€â”€ PETAL DECO (top of card) â”€â”€ */
  .card-deco {
    position: absolute;
    top: -18px; left: 50%; transform: translateX(-50%);
    font-size: 32px;
    filter: drop-shadow(0 4px 8px rgba(200,80,130,0.3));
    animation: spinPetal 8s linear infinite;
  }
  @keyframes spinPetal {
    0%   { transform: translateX(-50%) rotate(0deg); }
    100% { transform: translateX(-50%) rotate(360deg); }
  }

  /* â”€â”€ TYPOGRAPHY â”€â”€ */
  .eyebrow {
    font-family: 'DM Sans', sans-serif;
    font-size: 11px; font-weight: 500;
    letter-spacing: 3px; text-transform: uppercase;
    color: var(--text-mid);
    margin-bottom: 12px;
    opacity: 0.75;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(26px, 6vw, 34px);
    font-weight: 600;
    color: var(--text-dark);
    line-height: 1.2;
    margin-bottom: 14px;
  }
  h1 em { font-style: italic; color: #c0527a; }

  .body-text {
    font-size: 15px; line-height: 1.7;
    color: var(--text-mid);
    font-weight: 300;
    margin-bottom: 28px;
  }

  /* â”€â”€ BUTTONS â”€â”€ */
  .btn-primary {
    display: inline-block;
    background: linear-gradient(135deg, #f472a8, #c084fc);
    color: white;
    font-family: 'DM Sans', sans-serif;
    font-size: 15px; font-weight: 500;
    letter-spacing: 0.5px;
    border: none;
    padding: 14px 36px;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(196, 100, 180, 0.4);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative; overflow: hidden;
  }
  .btn-primary::after {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.25), transparent);
    border-radius: inherit;
  }
  .btn-primary:hover {
    transform: translateY(-2px) scale(1.04);
    box-shadow: 0 8px 28px rgba(196, 100, 180, 0.55);
  }
  .btn-primary:active { transform: scale(0.98); }

  /* â”€â”€ ANSWER ROW â”€â”€ */
  .answer-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-top: 4px;
    margin-bottom: 12px;
    flex-wrap: nowrap;
  }

  .btn-yes {
    background: linear-gradient(135deg, #f9a8c9, #f472a8);
    color: white;
    font-family: 'DM Sans', sans-serif;
    font-size: 15px; font-weight: 500;
    border: none; padding: 13px 28px;
    border-radius: 50px; cursor: pointer;
    box-shadow: 0 4px 18px rgba(244, 114, 168, 0.45);
    transition: transform 0.2s, box-shadow 0.2s;
    flex-shrink: 0;
  }
  .btn-yes:hover {
    transform: scale(1.07);
    box-shadow: 0 8px 28px rgba(244, 114, 168, 0.6);
  }

  .btn-no {
    background: rgba(216, 180, 254, 0.4);
    color: var(--text-mid);
    font-family: 'DM Sans', sans-serif;
    font-size: 14px; font-weight: 400;
    border: 1px solid rgba(216, 180, 254, 0.6);
    padding: 13px 24px;
    border-radius: 50px; cursor: pointer;
    transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.2s, opacity 0.5s ease;
    flex-shrink: 0;
    /* dodge via transform only â€” stays in flow */
  }
  .btn-no:hover { background: rgba(216, 180, 254, 0.6); }

  #noMessage {
    font-size: 13px;
    color: var(--text-mid);
    opacity: 0;
    transition: opacity 0.4s ease;
    min-height: 20px;
    text-align: center;
  }
  #noMessage.show { opacity: 1; }

  /* â”€â”€ BACK BUTTON â”€â”€ */
  .btn-back {
    position: absolute; top: 16px; left: 18px;
    background: transparent; border: none;
    font-size: 20px; cursor: pointer;
    color: var(--text-mid); opacity: 0.5;
    transition: opacity 0.2s;
    padding: 4px;
  }
  .btn-back:hover { opacity: 1; }

  /* â”€â”€ DATE BADGE â”€â”€ */
  .date-badge {
    display: inline-flex; align-items: center; gap: 8px;
    background: linear-gradient(135deg, rgba(249,168,201,0.3), rgba(216,180,254,0.3));
    border: 1px solid rgba(244,114,168,0.3);
    border-radius: 50px;
    padding: 8px 20px;
    font-size: 13px; font-weight: 500;
    color: #9d3a6a;
    margin-bottom: 24px;
    letter-spacing: 0.3px;
  }
  .date-badge span { font-size: 16px; }

  /* â”€â”€ FINAL SCREEN â”€â”€ */
  #scene5 .card { padding-bottom: 56px; }

  .confetti-wrap {
    position: absolute; inset: 0; overflow: hidden;
    border-radius: 28px; pointer-events: none;
  }

  #confettiCanvas {
    position: absolute; inset: 0;
    width: 100%; height: 100%;
  }

  /* â”€â”€ DIVIDER â”€â”€ */
  .divider {
    width: 40px; height: 2px;
    background: linear-gradient(90deg, #f9a8c9, #d8b4fe);
    border-radius: 2px;
    margin: 0 auto 20px;
  }

  /* â”€â”€ FLOATING PETALS â”€â”€ */
  .petal-layer {
    position: fixed; inset: 0; z-index: 2; pointer-events: none;
    overflow: hidden;
  }
  .petal {
    position: absolute;
    width: 8px; height: 8px;
    border-radius: 50% 0 50% 0;
    opacity: 0;
    animation: petalFall linear infinite;
  }
  @keyframes petalFall {
    0%   { transform: translateY(-20px) rotate(0deg);   opacity: 0.7; }
    100% { transform: translateY(110vh)  rotate(720deg); opacity: 0; }
  }

  /* â”€â”€ TYPEWRITER â”€â”€ */
  .typewriter { display: inline; }
  .typewriter::after {
    content: '|';
    animation: blink 1s step-end infinite;
    color: #f472a8;
    margin-left: 1px;
  }
  @keyframes blink { 50% { opacity: 0; } }

  /* â”€â”€ HEART PULSE on final â”€â”€ */
  .heart-big {
    font-size: 56px;
    display: block;
    margin-bottom: 16px;
    animation: heartbeat 1.2s ease-in-out infinite;
  }
  @keyframes heartbeat {
    0%,100% { transform: scale(1); }
    14%     { transform: scale(1.18); }
    28%     { transform: scale(1); }
    42%     { transform: scale(1.12); }
    70%     { transform: scale(1); }
  }
</style>
</head>
<body>

<!-- Animated bg -->
<canvas id="bgCanvas"></canvas>

<!-- Floating petals -->
<div class="petal-layer" id="petalLayer"></div>

<!-- â”€â”€â”€ SCENE 1 â”€â”€â”€ -->
<div class="scene active" id="scene1">
  <div class="card">
    <div class="card-deco">ğŸŒ¸</div>
    <p class="eyebrow">a little something for you</p>
    <h1>Hey <em>Miss girl</em> ğŸ˜™</h1>
    <div class="divider"></div>
    <p class="body-text">I made you something.<br/>No pressure. Just click.</p>
    <button class="btn-primary" onclick="goTo('scene2')">Open it â†’</button>
  </div>
</div>

<!-- â”€â”€â”€ SCENE 2 â”€â”€â”€ -->
<div class="scene" id="scene2">
  <div class="card">
    <button class="btn-back" onclick="goTo('scene1')">â†</button>
    <div class="card-deco">ğŸ’­</div>
    <p class="eyebrow">okay so here's the thing</p>
    <h1>I <em>kinda</em> like you.</h1>
    <div class="divider"></div>
    <p class="body-text">Like... actually. Not the "oh she's cool" kind.<br/>The kind where I'm writing this about it.</p>
    <button class="btn-primary" onclick="goTo('scene25')">Keep going â†’</button>
  </div>
</div>

<!-- â”€â”€â”€ SCENE 2.5 â”€â”€â”€ -->
<div class="scene" id="scene25">
  <div class="card">
    <button class="btn-back" onclick="goTo('scene2')">â†</button>
    <div class="card-deco">âœ¨</div>
    <p class="eyebrow">not gonna overthink this</p>
    <h1>I just think you're <em>really cool.</em></h1>
    <div class="divider"></div>
    <p class="body-text">And I didn't want to just text you about it like a normal person.<br/>So here we are.</p>
    <button class="btn-primary" onclick="goTo('scene3')">Okay... â†’</button>
  </div>
</div>

<!-- â”€â”€â”€ SCENE 3 â”€â”€â”€ -->
<div class="scene" id="scene3">
  <div class="card">
    <button class="btn-back" onclick="goTo('scene25')">â†</button>
    <div class="card-deco">ğŸ¬</div>
    <p class="eyebrow">so here's what I'm thinking</p>
    <h1>Movie night<br/><em>with me?</em></h1>
    <div class="divider"></div>
    <div class="date-badge"><span>ğŸ“…</span> March 14 &nbsp;Â·&nbsp; 6:00 PM</div>
    <p class="body-text">Chill. Cozy. Just us.</p>
    <div class="answer-row">
      <button class="btn-yes" onclick="handleYes()">Yes, obviously ğŸ¥¹</button>
      <button class="btn-no" id="noBtn">Nahhh</button>
    </div>
    <p id="noMessage"></p>
  </div>
</div>

<!-- â”€â”€â”€ SCENE 4 (final) â”€â”€â”€ -->
<div class="scene" id="scene4">
  <div class="card">
    <div class="confetti-wrap">
      <canvas id="confettiCanvas"></canvas>
    </div>
    <span class="heart-big">ğŸ©·</span>
    <p class="eyebrow">she said yes!!</p>
    <h1><em>Can't wait</em></h1>
    <div class="divider"></div>
    <p class="body-text">I'll handle everything.<br/>Just show up. That's all I need.</p>
  </div>
</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATED BACKGROUND â€” aurora mesh
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const bgCanvas = document.getElementById('bgCanvas');
const bgCtx    = bgCanvas.getContext('2d');

let W, H, orbs;

function initBg() {
  W = bgCanvas.width  = window.innerWidth;
  H = bgCanvas.height = window.innerHeight;

  orbs = [
    { x: W*0.2,  y: H*0.3,  r: W*0.45, vx: 0.18, vy: 0.12, color: 'rgba(249,168,201,0.28)' },
    { x: W*0.75, y: H*0.6,  r: W*0.4,  vx:-0.14, vy: 0.1,  color: 'rgba(216,180,254,0.22)' },
    { x: W*0.5,  y: H*0.8,  r: W*0.35, vx: 0.1,  vy:-0.16, color: 'rgba(252,228,236,0.2)'  },
    { x: W*0.85, y: H*0.15, r: W*0.3,  vx:-0.12, vy: 0.13, color: 'rgba(244,114,168,0.15)' },
  ];
}

function drawBg() {
  bgCtx.clearRect(0, 0, W, H);
  const bg = bgCtx.createLinearGradient(0, 0, W, H);
  bg.addColorStop(0, '#1a0a12');
  bg.addColorStop(1, '#0f0718');
  bgCtx.fillStyle = bg;
  bgCtx.fillRect(0, 0, W, H);

  orbs.forEach(o => {
    o.x += o.vx; o.y += o.vy;
    if (o.x < -o.r || o.x > W + o.r) o.vx *= -1;
    if (o.y < -o.r || o.y > H + o.r) o.vy *= -1;

    const g = bgCtx.createRadialGradient(o.x, o.y, 0, o.x, o.y, o.r);
    g.addColorStop(0, o.color);
    g.addColorStop(1, 'transparent');
    bgCtx.fillStyle = g;
    bgCtx.beginPath();
    bgCtx.arc(o.x, o.y, o.r, 0, Math.PI*2);
    bgCtx.fill();
  });

  requestAnimationFrame(drawBg);
}

window.addEventListener('resize', initBg);
initBg();
drawBg();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FLOATING PETALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function spawnPetals() {
  const layer = document.getElementById('petalLayer');
  const colors = ['#f9a8c9', '#d8b4fe', '#fce4ec', '#f472a8', '#ede9fe'];
  for (let i = 0; i < 18; i++) {
    const p = document.createElement('div');
    p.className = 'petal';
    p.style.left        = Math.random()*100 + 'vw';
    p.style.width       = (Math.random()*6+5) + 'px';
    p.style.height      = p.style.width;
    p.style.background  = colors[Math.floor(Math.random()*colors.length)];
    p.style.animationDuration  = (Math.random()*8+7) + 's';
    p.style.animationDelay     = (Math.random()*10) + 's';
    p.style.borderRadius = Math.random() > 0.5 ? '50% 0 50% 0' : '50%';
    layer.appendChild(p);
  }
}
spawnPetals();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE TRANSITIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function goTo(id) {
  document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NO BUTTON â€” dodge on mousemove + touchstart
   Stays in normal flow (no absolute positioning)
   Messages show correctly below the answer row
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let noClicks    = 0;
let dodgeActive = true;
let isDodging   = false;

const noMessages = [
  "That's not the right button ğŸ˜­",
  "Waitâ€¦ really? ğŸ˜¢",
  "Okay okayâ€¦ real answer now ğŸ˜…",
];

const noBtn  = document.getElementById('noBtn');
const scene3 = document.getElementById('scene3');

function dodgeBtn() {
  if (!dodgeActive || isDodging) return;
  isDodging = true;

  // Random translate within a safe range so it stays visible
  const rangeX = 80;
  const rangeY = 30;
  const tx = (Math.random() - 0.5) * rangeX;
  const ty = (Math.random() - 0.5) * rangeY;

  noBtn.style.transition = 'transform 0.22s cubic-bezier(0.34,1.56,0.64,1)';
  noBtn.style.transform  = `translate(${tx}px, ${ty}px)`;

  setTimeout(() => { isDodging = false; }, 250);
}

// Mouse hover dodge
document.addEventListener('mousemove', (e) => {
  if (!dodgeActive || !scene3.classList.contains('active')) return;
  const bRect = noBtn.getBoundingClientRect();
  const cx    = bRect.left + bRect.width  / 2;
  const cy    = bRect.top  + bRect.height / 2;
  if (Math.hypot(e.clientX - cx, e.clientY - cy) < 72) dodgeBtn();
});

// Touch dodge â€” fires before tap registers
noBtn.addEventListener('touchstart', (e) => {
  if (!dodgeActive) return;
  e.preventDefault(); // stop the tap from firing immediately
  dodgeBtn();
}, { passive: false });

// Click handler (covers both mouse click after dodge and mobile fallback)
noBtn.addEventListener('click', () => {
  if (!dodgeActive) return;
  noClicks++;
  const msg = document.getElementById('noMessage');

  if (noClicks <= noMessages.length) {
    msg.textContent = noMessages[noClicks - 1];
    msg.classList.add('show');
    dodgeBtn();
  } else {
    dodgeActive = false;
    noBtn.style.transition = 'opacity 0.5s ease';
    noBtn.style.opacity    = '0.35';
    noBtn.style.pointerEvents = 'none';
    msg.textContent = "Such a bummerâ€¦ but next time ğŸ¥²";
    msg.classList.add('show');
  }
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   YES â†’ CONFETTI CELEBRATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function handleYes() {
  goTo('scene4');
  setTimeout(launchConfetti, 300);
}

function launchConfetti() {
  const canvas = document.getElementById('confettiCanvas');
  const ctx    = canvas.getContext('2d');
  canvas.width  = canvas.offsetWidth  || 380;
  canvas.height = canvas.offsetHeight || 420;

  const W = canvas.width, H = canvas.height;
  const palette = ['#f9a8c9','#d8b4fe','#fce4ec','#f472a8','#c084fc','#ffffff','#fbcfe8'];

  const pieces = Array.from({ length: 120 }, () => ({
    x:     Math.random() * W,
    y:     Math.random() * H - H,
    w:     Math.random() * 8 + 3,
    h:     Math.random() * 4 + 2,
    color: palette[Math.floor(Math.random()*palette.length)],
    rot:   Math.random() * Math.PI * 2,
    rotV:  (Math.random() - 0.5) * 0.15,
    vx:    (Math.random() - 0.5) * 1.5,
    vy:    Math.random() * 3 + 1.5,
    alpha: 1,
  }));

  let frame = 0;
  function tick() {
    ctx.clearRect(0, 0, W, H);
    frame++;
    pieces.forEach(p => {
      p.y   += p.vy;
      p.x   += p.vx;
      p.rot += p.rotV;
      if (frame > 180) p.alpha = Math.max(0, p.alpha - 0.008);
      if (p.y > H + 10) { p.y = -10; p.x = Math.random()*W; p.alpha = 1; }

      ctx.save();
      ctx.globalAlpha = p.alpha;
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    });
    if (frame < 400) requestAnimationFrame(tick);
  }
  tick();
}
</script>
</body>
</html>